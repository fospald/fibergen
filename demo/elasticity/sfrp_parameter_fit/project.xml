<settings>

	<title>SFRP homogenization</title>
	<description>Homogenization for fibers of infinite length for variable volume fraction.</description>
	<image>thumbnail.png</image>

	<num_threads>2</num_threads>

	<variables>
		<res type="int" value="256" />
		<dy type="float" value="3**0.5" />
		<R type="float" value="0.4" />
		<cx type="float" value="0.5/res" />
	</variables>

	<dx>1.0/res</dx>
	<dy>dy</dy>
	<dz>1.0</dz>

	<periodic>0</periodic>
	<planar z="0" y="0" x="1" />

	<solver nz="res" _ny="res" ny="int(dy*res+0.5)" nx="1" mult="1">
		
		<materials>
			<matrix law="iso" E="1.665" nu="0.36" />
			<fiber  law="iso" E="73.0" nu="0.18" />
		</materials>

		<ref law="iso" lambda="0" mu="0.3" />

		<method>cg</method>
		<gamma_scheme>staggered</gamma_scheme>
		<mode>elasticity</mode>
		<mixing_rule>laminate</mixing_rule>

		<tol>1e-16</tol>
		<debug>0</debug>
		<maxiter>50</maxiter>
		<first_loadstep>1</first_loadstep>

	</solver>

	<actions>

		<select_material name="fiber"/>

		<!-- create dense hexagonal packing -->
		<place_fiber R="R" cz="0.0" cy="0.0" cx="cx" az="0" ay="0" ax="1" L="2" />
		<place_fiber R="R" cz="1" cy="0.0" cx="cx" az="0" ay="0" ax="1" L="2" />
		<place_fiber R="R" cz="-0.5" cy="0.5*dy" cx="cx" az="0" ay="0" ax="1" L="2" />
		<place_fiber R="R" cz="0.5" cy="0.5*dy" cx="cx" az="0" ay="0" ax="1" L="2" />
		<place_fiber R="R" cz="0.0" cy="dy" cx="cx" az="0" ay="0" ax="1" L="2" />
		<place_fiber R="R" cz="1" cy="dy" cx="cx" az="0" ay="0" ax="1" L="2" />

		<run_load_case e33="0.2" e22="0" e11="1.0" e23="0.1" />

	</actions>

</settings>
